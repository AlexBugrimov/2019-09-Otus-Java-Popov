<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Админка</title>
    <script>
        function loadAllUsers() {
            fetch('api/user/')
                .then(response => response.json())
                .then(users => {
                    let tableBody = usersTable.getElementsByTagName('tbody')[0];
                    let rows = '';
                    users.forEach((user, idx) => {
                        rows += '<tr>' + '<td>' + user.id + '</td>'
                         + '<td>' + user.name + '</td>'
                          + '<td>' + user.login + '</td>'
                          + '<td>' + user.password + '</td>' + '</tr>';
                    });
                    tableBody.innerHTML = rows;
                });
        }
    </script>
</head>

<body>
<!-- todo create new user -->

<!-- todo get users list by button-->
<h1>Список всех пользователей:</h1>
<button onclick="loadAllUsers()" style="margin: 0 0 10px 0;">Загрузить список пользователей</button>
<table id="usersTable" style="width: 400px; border: solid 1px;">
    <thead>
        <tr>
            <td style="width: 50px">Id</td>
            <td style="width: 150px">Имя</td>
            <td style="width: 100px">Логин</td>
            <td style="width: 100px">Пароль</td>
        </tr>
    </thead>
    <tbody>
        <!-- content will be changed on button click -->
    </tbody>
</table>
</body>
</html>
